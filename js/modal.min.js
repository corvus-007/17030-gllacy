var btnOpenModal=document.querySelector(".js-open-modal"),modal=document.querySelector(".modal"),modalOverlay=document.querySelector(".modal-overlay"),btnCloseModal=modal.querySelector(".modal__close"),feedbackForm=modal.querySelector(".feedback-form"),feedbackName=feedbackForm.querySelector("[name=name]"),feedbackEmail=feedbackForm.querySelector("[name=email]"),feedbackMessage=feedbackForm.querySelector("[name=message]"),storageFeedbackName=localStorage.getItem("feedbackName");btnOpenModal.addEventListener("click",function(e){e.preventDefault(),modal.classList.add("modal--opened"),modalOverlay.classList.add("modal-overlay--opened"),storageFeedbackName?(feedbackName.value=storageFeedbackName,feedbackEmail.focus(),handleFloatingLabels(floatingTextFields)):feedbackName.focus()}),btnCloseModal.addEventListener("click",function(e){e.preventDefault(),modal.classList.remove("modal--opened","modal--error"),modalOverlay.classList.remove("modal-overlay--opened")}),feedbackForm.addEventListener("submit",function(e){feedbackName.value&&feedbackEmail.value&&feedbackMessage.value?localStorage.setItem("feedbackName",feedbackName.value):(e.preventDefault(),modal.classList.remove("modal--error"),modal.offsetWidth=modal.offsetWidth,modal.classList.add("modal--error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&modal.classList.contains("modal--opened")&&(modal.classList.remove("modal--opened","modal--error"),modalOverlay.classList.remove("modal-overlay--opened"))});